r = i
print(r)
for(j in 1:(n-1)) {
r = 1
for(k in 1:6) {
print(k)
r = r+k
}
}
if (r >= 10) {
contador = contador+1
}
}
contador = 0
n=3
for(i in 1:6){
r = i
print(r)
for(j in 1:(n-1)) {
r = i
for(k in 1:6) {
print(k)
r = r+k
}
}
if (r >= 10) {
contador = contador+1
}
}
6*36
6*3
contador = 0
n=3
for(i in 1:6){
r = i
print(r)
for(j in 1:(n-1)) {
r = i
for(k in 1:6) {
print(paste(r,k))
r = r+k
}
}
if (r >= 10) {
contador = contador+1
}
}
install.packages("ProjectTemplate")
tecido = read.csv('C:/Users/JoaoSilva/Desktop/Tecido.csv')
tecido = read.csv('C:/Users/JoaoSilva/Desktop/Tecido.csv', sep = ";")
View(tecido)
library(forecast)
library(rminer)
library(lubridate)
data(AirPassengers)
hw_function <- function (df, frequency, H)
{
L=length(df)
end = as.Date(max(df[,1] - H))
start = as.date(min(df[,1]))
# time series monthly object:
TR=ts(df,frequency=frequency,start=c(year(start), month(start), day(start)),end=c(year(end), month(end), day(end)))
# holt winters method
HW=HoltWinters(TR)
F=forecast(HW,h=H) # 1 to H ahead forecasts
Pred=F$mean[1:H] # HW predictions
Target=df[(L-H+1):L]
txt=paste("HW SMAPE:",round(mmetric(Target,Pred,metric="SMAPE"),2),"\n")
mgraph(Target,Pred,graph="REG",Grid=10,col=c("black","blue"),
leg=list(pos="topleft",leg=c("target","predictions")),main=txt,PDF="hw")
}
auto.arima_func <- function (df, frequency, H){
L=length(df)
end = as.Date(max(df[,1] - H))
start = as.date(min(df[,1]))
# time series monthly object:
TR=ts(df,frequency=frequency,start=c(year(start), month(start), day(start)),end=c(year(end), month(end), day(end)))
# arima method:
AR=auto.arima(TR)
F1=forecast(AR,h=H) # 1 to H ahead forecasts
Pred1=F1$mean[1:H] # AR predictions
Target=df[(L-H+1):L]
txt=paste("AR SMAPE:",round(mmetric(Target,Pred1,metric="SMAPE"),2),"\n")
mgraph(Target,Pred1,graph="REG",Grid=10,col=c("black","blue"),
leg=list(pos="topleft",leg=c("target","predictions")),main=txt,PDF="ar")
}
install.packages('rvest')
file.edit('scrap.r')
URL <- "https://www.whoscored.com/Regions/177/Tournaments/21/Portugal-Liga-NOS"
WS <- read_html(URL)
WS <- xml2::read_html(URL)
URLs <- WS %>%
html_nodes(".team-link")
library(dplyr)
URLs <- WS %>%
html_nodes(".team-link")
library(rvest)
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.whoscored.com",URLs)
print(URLs)
URLs <- WS %>%
html_nodes(".team") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.whoscored.com",URLs)
print(URLs)
URLs
URLs <- WS %>%
html_nodes(".team") %>%
html_attr("href") %>%
as.character()
URLs
URLs <- WS %>%
html_nodes(".alt+ tr .team , .alt .team") %>%
html_attr("href") %>%
as.character()
URLs
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs
URLs <- WS %>%
html_nodes(".team , .team-link") %>%
html_attr("href") %>%
as.character()
URL <- "https://www.whoscored.com/Regions/177/Tournaments/21/Seasons/7893/Stages/17710/Fixtures/Portugal-Liga-NOS-2019-2020"
WS <- xml2::read_html(URL)
URLs <- WS %>%
html_nodes(".team , .team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.whoscored.com",URLs)
print(URLs)
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team") %>%
html_attr("href") %>%
as.character()
URL <- "https://www.whoscored.com/Regions/177/Tournaments/21/Seasons/7893/Stages/17710/Show/Portugal-Liga-NOS-2019-2020"
WS <- xml2::read_html(URL)
URLs <- WS %>%
html_nodes(".team") %>%
html_attr("href") %>%
as.character()
URL <- "https://www.whoscored.com/Regions/177/Tournaments/21/Portugal-Liga-NOS"
WS <- xml2::read_html(URL)
URLs <- WS %>%
html_nodes(".team") %>%
html_attr("href") %>%
as.character()
URL <- "https://www.whoscored.com/Regions/177/Tournaments/21/Portugal-Liga-NOS"
WS <- xml2::read_html(URL)
URLs <- WS %>%
html_nodes(".team") %>%
html_attr("href") %>%
as.character()
WS %>%
html_nodes(".team")
URLs <- WS %>%
html_nodes(".team") %>%
#html_attr("href") %>%
as.character()
URLs <- paste0("http://www.whoscored.com",URLs)
print(URLs)
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.whoscored.com",URLs)
print(URLs)
URLstcher1 <- data.frame(Player=character(),P_URL=character())
for (i in URLs) {
WS1 <- read_html(i)
}
Player <- WS1 %>% html_nodes(".player-link") %>% html_text() %>% as.character()
P_URL <- WS1 %>% html_nodes(".player-link") %>% html_attr("href") %>% as.character()
temp <- data.frame(Player,P_URL)
Catcher1 <- rbind(Catcher1,temp)
Catcher1 <- data.frame(Player=character(),P_URL=character())
for (i in URLs) {
WS1 <- read_html(i)
Player <- WS1 %>% html_nodes(".player-link") %>% html_text() %>% as.character()
P_URL <- WS1 %>% html_nodes(".player-link") %>% html_attr("href") %>% as.character()
temp <- data.frame(Player,P_URL)
Catcher1 <- rbind(Catcher1,temp)
cat("*")
}
read_html(i)
i
WS1 <- read_html(i)
Player <- WS1 %>% html_nodes(".player-link") %>% html_text() %>% as.character()
P_URL <- WS1 %>% html_nodes(".player-link") %>% html_attr("href") %>% as.character()
P_URL <- WS1 %>% html_nodes(".player") %>% html_attr("href") %>% as.character()
P_URL <- WS1 %>% html_nodes("-alt .player") %>% html_attr("href") %>% as.character()
P_URL <- WS1 %>% html_nodes(".alt .player") %>% html_attr("href") %>% as.character()
URL <- "https://www.transfermarkt.com/premier-league/startseite/wettbewerb/GB1"
WS <- xml2::read_html(URL)
URLs <- WS %>%
html_nodes(".tooltipstered") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".hide-for-pad , .tooltipstered") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.whoscored.com",URLs)
URLs <- WS %>%
html_nodes(".hide-for-pad , .tooltipstered") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.whoscored.com",URLs)
print(URLs)
URLs <- WS %>%
html_nodes(".even+ .odd .hide-for-pad , .even .hide-for-pad") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".hide-for-pad .vereinprofil_tooltip") %>%
html_attr("href") %>%
as.character()
URL <- "https://www.whoscored.com/Regions/177/Tournaments/21/Portugal-Liga-NOS"
WS <- xml2::read_html(URL)
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.whoscored.com",URLs)
print(URLs)
Catcher1 <- data.frame(Player=character(),P_URL=character())
Player <- WS1 %>% html_nodes("#player-table-statistics-body .pn") %>% html_text() %>% as.character()
P_URL <- WS1 %>% html_nodes("#player-table-statistics-body .pn") %>% html_attr("href") %>% as.character()
P_URL <- WS1 %>% html_nodes("#player-table-statistics-body .pn .player") %>% html_attr("href") %>% as.character()
P_URL <- WS1 %>% html_nodes("#player-table-statistics-body .pn .player-link") %>% html_attr("href") %>% as.character()
URLs <- WS %>%
html_nodes(".standings .team") %>%
html_attr("href") %>%
as.character()
URLs
URLs <- WS %>%
html_nodes(".team") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".standings .team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-link , .rowgroupheader+ .alt .home , .alt .away") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.whoscored.com",URLs)
print(URLs)
URLs <- WS %>%
html_nodes(".tr:nth-child(17) .team , tr:nth-child(9) .team , tr:nth-child(7) .team , .alt:nth-child(4) .team , tr:nth-child(3) .team , tr:nth-child(1) .teamteam-link") %>%
html_attr("href") %>%
as.character()
URL <- "https://www.transfermarkt.com/liga-nos/startseite/wettbewerb/PO1"
URLs <- WS %>%
html_nodes(".hide-for-pad .vereinprofil_tooltip") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.tansfermarkt.com",URLs)
print(URLs)
URLs <- WS %>%
html_nodes(".hide-for-pad .vereinprofil_tooltip") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.tansfermarkt.com",URLs)
URLs <- WS %>%
html_nodes(".hide-for-pad .vereinprofil_tooltip") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes("#yw1 .tooltipstered") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes("#yw1 .tooltipstered") %>%
html_attr("href") %>%
as.character()
WS <- xml2::read_html(URL)
URLs <- WS %>%
html_nodes("#yw1 .tooltipstered") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".hide-for-pad .vereinprofil_tooltip") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.tansfermarkt.com",URLs)
print(URLs)
Catcher1 <- data.frame(Player=character(),P_URL=character())
Catcher1 <- data.frame(Player=character(),P_URL=character())
for (i in URLs) {
WS1 <- read_html(i)
Player <- WS1 %>% html_nodes("#yw1 .spielprofil_tooltip") %>% html_text() %>% as.character()
P_URL <- WS1 %>% html_nodes("#yw1 .spielprofil_tooltip") %>% html_attr("href") %>% as.character()
temp <- data.frame(Player,P_URL)
Catcher1 <- rbind(Catcher1,temp)
cat("*")
}
URLs <- paste0("http://www.transfermarkt.com",URLs)
print(URLs)
URLs <- WS %>%
html_nodes(".hide-for-pad .vereinprofil_tooltip") %>%
html_attr("href") %>%
as.character()
URLs <- paste0("http://www.transfermarkt.com",URLs)
print(URLs)
Catcher1 <- data.frame(Player=character(),P_URL=character())
for (i in URLs) {
WS1 <- read_html(i)
Player <- WS1 %>% html_nodes("#yw1 .spielprofil_tooltip") %>% html_text() %>% as.character()
P_URL <- WS1 %>% html_nodes("#yw1 .spielprofil_tooltip") %>% html_attr("href") %>% as.character()
temp <- data.frame(Player,P_URL)
Catcher1 <- rbind(Catcher1,temp)
cat("*")
}
View(Catcher1)
no.of.rows <- nrow(Catcher1)
odd_indexes<-seq(1,no.of.rows,2)
Catcher1 <- data.frame(Catcher1[odd_indexes,])
Catcher1$P_URL <- paste0("http://www.transfermarkt.com",Catcher1$P_URL
Catcher1$P_URL <- paste0("http://www.transfermarkt.com",Catcher1$P_URL)
Catcher2 <- data.frame(Player=character(),MarketValue=character())
for (i in Catcher1$P_URL) {
WS2 <- read_html(i)
MarketValue <- WS2 %>% html_nodes(".dataMarktwert a") %>% html_text() %>% as.character()
Player <- WS2 %>% html_nodes("h1") %>% html_text() %>% as.character()
temp2 <- data.frame(Player,MarketValue)
Catcher2 <- rbind(Catcher2,temp2)
cat("*")
}
for (i in Catcher1$P_URL) {
WS2 <- read_html(i)
MarketValue <- WS2 %>% html_nodes(".dataMarktwert a") %>% html_text() %>% as.character()
Player <- WS2 %>% html_nodes("h1") %>% html_text() %>% as.character()
temp2 <- data.frame(Player,MarketValue)
Catcher2 <- rbind(Catcher2,temp2)
cat("*")
}
URL <- "https://www.whoscored.com/Regions/177/Tournaments/21/Portugal-Liga-NOS"
URLs <- WS %>%
html_nodes(".standings .team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".hide
.team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URL <- "https://www.whoscored.com/Regions/177/Tournaments/21/Portugal-Liga-NOS"
URLs <- WS %>%
html_nodes(".standings .team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".standing
.team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team") %>%
html_attr("href") %>%
as.character()
WS <- xml2::read_html(URL)
URLs <- WS %>%
html_nodes(".standing .team") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".standing .team-link") %>%
html_attr("href") %>%
as.character()
View(WS)
URLs <- WS %>%
html_nodes(".team-link") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-links") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-link .team") %>%
html_attr("href") %>%
as.character()
URLs <- WS %>%
html_nodes(".team-link ") %>%
html_attr("href") %>%
as.character()
Catcher2
View(Catcher2)
i = 50
WS2 <- read_html(i)
MarketValue <- WS2 %>% html_nodes(".dataMarktwert a") %>% html_text() %>% as.character()
i = Catcher1[,50]]$P_URL
i = Catcher1[,50]$P_URL
i = Catcher1[50]$P_URL
i = Catcher1[50,]$P_URL
WS2 <- read_html(i)
MarketValue <- WS2 %>% html_nodes(".dataMarktwert a") %>% html_text() %>% as.character()
Player <- WS2 %>% html_nodes("h1") %>% html_text() %>% as.character()
temp2 <- data.frame(Player,MarketValue)
Catcher2 <- rbind(Catcher2,temp2)
cat("*")
i = Catcher1[49,]$P_URL
WS2 <- read_html(i)
MarketValue <- WS2 %>% html_nodes(".dataMarktwert a") %>% html_text() %>% as.character()
Player <- WS2 %>% html_nodes("h1") %>% html_text() %>% as.character()
temp2 <- data.frame(Player,MarketValue)
Catcher2 <- rbind(Catcher2,temp2)
cat("*")
Catcher2 <- data.frame(Player=character(),MarketValue=character())
for (i in Catcher1$P_URL) {
WS2 <- read_html(i)
MarketValue <- WS2 %>% html_nodes(".dataMarktwert a") %>% html_text() %>% as.character()
Player <- WS2 %>% html_nodes("h1") %>% html_text() %>% as.character()
temp2 <- data.frame(Player,MarketValue)
Catcher2 <- rbind(Catcher2,temp2)
cat("*")
}
MarketValue
Team <- WS2 %>% html_nodes(".tooltipstered+ .tooltipstered") %>% html_tex() %>% as.character()
Team <- WS2 %>% html_nodes(".tooltipstered+ .tooltipstered") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".vereinsname .tooltipstered") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".vereinsname") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".vereinsname #720") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".vereinsname a") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".hauptpunkt .tooltipstered") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".hauptpunkt") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes("#verein_select_breadcrumb_chzn span") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes("#verein_select_breadcrumb_chzn") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".auflistung") %>% html_text() %>% as.character()
Team
Team <- WS2 %>% html_nodes(".auflistung .tooltipster") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".auflistung .tooltipstered") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes("#720") %>% html_text() %>% as.character()
WS2 %>% html_nodes("#720")
WS2 %>% html_nodes("#720") %>% html_text()
Team <- WS2 %>% html_nodes(".dataValue:nth-child(12)") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".dataValue:nth-child(12) , .dataValue:nth-child(6)") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes("..hauptpunkt .tooltipstered , .dataValue:nth-child(12) , .dataValue:nth-child(6)") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes(".hauptpunkt .tooltipstered , .dataValue:nth-child(12) , .dataValue:nth-child(6)") %>% html_text() %>% as.character()
Team <- WS2 %>% html_nodes("tr:nth-child(9) td , .wappen .tooltipstered , .hauptpunkt .tooltipstered , .dataValue:nth-child(12) , .dataValue:nth-child(6)") %>% html_text() %>% as.character()
Team
Team <- WS2 %>% html_nodes("#wettbewerb_select_breadcrumb_chzn span , #land_select_breadcrumb_chzn span , #verein_select_breadcrumb_chzn span , tr:nth-child(9) td , .wappen .tooltipstered , .hauptpunkt .tooltipstered , .dataValue:nth-child(12) , .dataValue:nth-child(6)") %>% html_text() %>% as.character()
Team
setwd('C:/Users/JoaoSilva/Documents/coronavirus/')
install.packages('ProjectTemplate')
file.edit('config/global.dcf')
library(ProjectTemplate)
load.project()
load.project()
library(plotly)
load.project()
rm(list=ls())
load.project()
file.edit('src/plots.r')
### join to made a complete dataset
complete_dataset <- confirmed %>%
left_join(recovered %>%
select(-c(Lat, Long)), by=c("Date"="Date","State"="State","Country"="Country")) %>%
left_join(death %>%
select(-c(Lat, Long)), by=c("Date"="Date","State"="State","Country"="Country"))
day_evolution <- complete_dataset %>%
group_by(Date) %>%
summarise(
Confirmed = sum(Confirmed_day),
Recovered = sum(Recovered_day),
Death = sum(Death_day)
)
complete_dataset %>%
group_by(Date) %>%
summarise(
Confirmed = sum(Confirmed),
Recovered = sum(Recovered),
Death = sum(Death)
) %>%
plot_ly() %>%
add_lines(x=~Date, y=~Confirmed, type ="scatter", mode = "lines")
